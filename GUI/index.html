<!DOCTYPE html>
<html>
	<head>
		<!-- General Settings -->
		<meta charset = "UTF-8" />
		<meta name = "viewport" content ="width=device.width, initial-scale=1"/>
		<title> Thematic Map Creator </title> 
		
		<!-- Stylesheet CSS -->
		<link rel = "stylesheet" href = "style.css" />
		
		<!-- Leaflet Source Code -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
		
		<!-- JQuery -->
		<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
		
		<!-- Referencing Script Files -->
		 <script src="attribute_selection.js"></script> 
		
		<!-- Add Static GeoJson for Testing -->
		 <!-- <script src="leaflet.ajax.min"></script> -->
		 <script src = "data/DEU.geojson"></script>
		 <script src = "data/brown_coal.geojson"></script>
		 <!-- <script src = "lib/index.js"></script> -->
		 
		 <!-- Load JavaScript Files -->
	
	</head>
	

	<body>

	
	
	
		
		<!-- INPUT FIELDS -->
		<div id = "input_fields">
		
			<h1 id = "title"> Thematic Map Creator </h1>
			
			<!-- GEODATA SELECTOR -->
			<p id = "t_select_input"> Select your Input GeoJSON </p>
			<form id = "f_select_input" lang="en" method="post" enctype="multipart/form-data">	<!-- method=post specifies that form data is sent as HTTP post transaction // enctype  specifies how form data should be encoded when submitting it to a server -->
				<input id = "i_select_input" "name="File" type="file" size="50" accept=".geojson, .shp">  
				<input id = "submit" type="submit" name="submit" >
				
				<!-- <button onClick = "chooseFile()">Display</button> -->
				<!-- <script> -->
					<!-- function chooseFile(){ -->
						<!-- var x = document.getElementById("i_select_input"); -->
						<!-- x.accept = true; -->
					<!-- } -->
				<!-- </script> -->
			</form>
			
			<!-- ATTRIBTUE SELECTOR (has to be made dynamic based on attributes https://css-tricks.com/examples/DynamicDropdown/) -->
			<p id = "t_select_attribute"> Select the Attribute for Choropleth Map Creation </p>
			
			<input type="radio" id="single" name="Attribute" value="SingleAttribute" checked="checked">
			<label for="mc"> Single Attribute</label> 
			<input type="radio" id="calculated" name="Attribute" value="CalculatedAttribute">
			<label for="vi"> Calculated Attribute</label>
			
			<div id = "attribute_selection">
			
				<p id = "t_select_Attribute"> Select any numerical Attribute of your Input File or <br/> combine them via the +, -, * or /</p>
				<button id="loadattr" class="button" type="button" onclick="fillAttributeDropdown(brown_coal_gjson)">Load Attributes...</button>
			
				<select required id = "s_select_attribute">
					<option value="" selected>Select...</option>
				</select>

				<p></p>
				
				<button id="plus" class="button" type="button" onclick="add()">+</button>
				<button id="minus" class="button" type="button" onclick="subtract()">-</button>
				<button id="multiply" class="button" type="button" onclick="multiply()">*</button>
				<button id="divide" class="button" type="button" onclick="divide()">/</button>
				
				<p></p>
				
				<form>
					<input type="text" id="tf_attribute" value="sf">
				</form>
				
				<p></p>
				
				<button class="button" type="button" onclick="">Apply</button>
			</div>
			
			
			
			<!-- CLASS SELECTOR -->
			<p id = "t_select_classes"> Select the Number of Classes </p>
			<form id = "f_select_classes">
				<select id = "s_select_classes" name = "s_select_classes" onchange=""> 
					<option id = "o_select_classes_2" value="2" selected>2</option>
					<option id = "o_select_classes_3" value="3">3</option> 
					<option id = "o_select_classes_4" value="4">4</option> 
					<option id = "o_select_classes_5" value="5">5</option> 
					<option id = "o_select_classes_6" value="6">6</option> 
					<option id = "o_select_classes_7" value="7">7</option> 
					<option id = "o_select_classes_8" value="8">8</option> 
				</select> 
			</form>
			
			<!-- COLOR SCHEME SELECTOR -->
			<p id = "t_select_color"> Select the Color Scheme </p>
			<form id = "f_select_color">
				<select id = "s_select_color" name = "s_select_color" onchange=""> 
					<option id = "o_select_color_r" value="red" selected>Red</option>
					<option id = "o_select_color_g" value="green">Green</option> 
					<option id = "o_select_color_b" value="blue">Blue</option> 
					<option id = "o_select_color_o" value="orange">Orange</option> 
					<option id = "o_select_color_p" value="purple">Purple</option> 
				</select> 
			</form>
			
			<!-- LINE WIDTH SELECTOR -->
			<p id = "t_select_line_width"> Select the Width of the Outline </p>
			<form id = "f_select_line_width">
				<input type="number" min="0.1" max="5.0" value="0.1" step="0.1">
			</form>
			
			<!-- LINE STYLE SELECTOR -->
			<p id = "t_select_line_style"> Select the Style of the Outline </p>
			<form id = "f_select_line_style">
				<select id = "s_select_line_style" name = "s_select_line_style" onchange=""> 
					<option id = "o_select_line_style_s" value="solid" selected>Solid</option>
					<option id = "o_select_line_style_d" value="dotted">Dotted</option> 
					<option id = "o_select_line_style_" value="..">To be continued...</option> 
				</select> 
			</form>
			
			<!-- LINE COLOR SELECTOR -->
			<p id = "t_select_line_color"> Select the Color of the Outline </p>
			<input type="color" id="i_select_line_color" name="i_select_line_color" value="#424242">
			
			
			<!-- ALL THIS IS ONLY NEEDED WHEN WE SUPPORT BASEMAPS -->
			<!--<!-- CLASS SELECTOR --> 
			<!-- <p id = "t_specify_opacity"> Specify the Opacity of the Choropleth Map </p> -->
			<!-- <div class="slidecontainer"> -->
				<!-- <input type="range" min="1" max="100" value="50" class="slider" id="myRange"> -->
			<!-- </div> -->
			
			<!-- <!-- CLASS SELECTOR Radio Buttons --> 
			<!-- <p id = "t_specify_basemap"> Specify the orientation of the Map </p> -->
			<!-- <form> -->
			  <!-- <input type="radio" name="radiobutton" value="portrait"checked> Portrait<br> -->
			  <!-- <input type="radio" name="radiobutton" value="landscape" > Landscape<br> -->
			<!-- </form> -->
			
			<!-- <!-- CLASS SELECTOR Radio Buttons --> 
			<!-- <p id = "t_specify_basemap"> Specify the desired Basemap </p> -->
			<!-- <form> -->
			  <!-- <input type="radio" name="radiobutton" value="OSM"checked> OSM<br> -->
			  <!-- <input type="radio" name="radiobutton" value="GoogleMaps" > Google Maps<br> -->
			<!-- </form> -->
			
			<!-- CLASS Textfield  -->
			<!-- <p id = "t_specify_WMS"> Specify the URL of an additional WMS </p>			 -->
			<!-- <form> -->
				<!-- <input type="text" name="URLofWMS"><br> -->
			<!-- </form> -->

			<p>  </p>	
			
			<!-- Buttons -->
			<button id = "b_downImage" class="button" type="button">Download Map <br/>as Image</button>
			<button id = "b_downMap" class="button" type="button">Download Map <br/>as Leaflet Map</button>
			<button id = "b_help" class="button" type="button">Help</button>
		
		</div>
		
		<div id = "map">
			<!-- multipart/form-data allows entire files to be included in the data -->
			<form method="post" enctype="multipart/form-data">
				<label>Wählen Sie eine Datei von Ihrem Rechner aus.
					<!-- <input id = "datei", name="datei" type="file" size="50" accept=".geojson, .shp, .jpg, .png">  -->
					<input type="file" id="datei" size="50">
					
				</label>  
			</form>
			<button type="button" onclick="loaddata()">Try it</button>
			<p id="demo"></p>
			
			<script>
				map = L.map('map').setView([43.8, 18.3],3);
				<!-- EvenListener für den FileHandler  -->
				document.querySelector('#datei').addEventListener('click', loaddata);
				
				 
	 
				function loaddata () {
					<!-- zum Prüfen, ob EvenListener von FileHandler funktioniert -->
					<!-- L.geoJson(DEU).addTo(map); -->
					
					  
					
					<!-- get Element von FileUploader -->
					var x = document.getElementById("datei").value;
					<!-- write Element in demo  -->
					document.getElementById("demo").innerHTML = x;
					
					<!-- leeres geojson erzeugen, um es dann vielleicht füllen zu können -->
					var gJ = L.geoJSON().addTo(map);
				}
					<!-- gJ.addData(document.getElementById("x")); -->
					
					<!-- document.getElementById(L.geoJson(x).addTo(map));   -->
					<!-- var countriesLayer = geo.addTo(map); -->
					<!-- map.fitBounds(countriesLayer.getBounds()); -->							
				<!-- document.querySelector("map"); -->
				
				<!-- Test Style				 -->
				geojson = L.geoJson(DEU, {
					style: style
					//onEachFeature: onEachFeature,
					}).addTo(map);
					
				function style(feature) {
					
						return {
							weight: 5,
							opacity: 1,
							<!-- outlinecolor -->
							color: 'red', 
							"stroke-width":"500",
							dashArray: '3',
							fillOpacity: 0.3,
							fillColor: '#ffa500'
							
						};
				}
			</script> 
		
		</div>
	
		<!-- <div id = "map"> -->
				<!-- <input id = "i_select_input" "name="File" type="file" size="50" accept=".geojson, .shp, png, .jpg">   -->
				
				
				<!-- <button onClick = "chooseFile()">Display</button> -->
				<!-- <script> -->
					
					<!-- function chooseFile(){ -->
						<!-- var x = document.getElementById("i_select_input"); -->
						<!-- x.accept = true;												 -->
					<!-- } -->
					<!-- <!-- map = L.map('map').setView([43.8, 18.3],3); --> -->
					<!-- <!-- var countriesLayer = L.geoJson(DEU).addTo(map);  --> -->
					<!-- <!-- map.fitBounds(countriesLayer.getBounds()); --> -->

				
				
				
			<!-- </script> -->
		<!-- </div> -->
	
	</body>	
</html>